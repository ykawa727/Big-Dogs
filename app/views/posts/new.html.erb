<div class="container">
  <div class="row mt-3">
    <h4 class="col-sm-4">
      お悩み投稿
    </h4>
    <% if @post.errors.any? %>
      <%= @post.errors.count %>件のエラーが発生しました
      <% @post.errors.full_messages.each do |message| %>
        <%= message %>
      <% end %>
    <% end %>
  </div>

  <div class="row mt-3">
    <div class="col-sm-10">
      <%= form_with model:@post, url:posts_path, local:true do |f| %>
      <table class="table table-borderless">
        <tr>
          <td>
            <%= f.label :対象のワンちゃん, class:"col-sm-3 col-form-label-sm" %>
            <%= f.collection_select :dog_id, Dog.where(dog_owner_id: current_dog_owner.id), :id, :name, include_blank: "選択して下さい" %>
          </td>
        </tr>

        <tr>
          <td>
            <%= f.label :お悩みカテゴリー, class:"col-sm-3 col-form-label-sm" %>
            <%= f.select :category, Post.categories.keys.map{|k| [I18n.t("enums.post.category.#{k}"), k]}, {} %>
          </td>
        </tr>

        <tr>
          <td>
            <%= f.label :タイトル, class:"col-sm-3 col-form-label-sm" %>
            <%= f.text_field :title, class:"col-sm-8 form-control" %>
          </td>
        </tr>

        <tr>
          <td>
            <%= f.label :お悩み本文, class:"col-sm-3 col-form-label-sm" %>
            <%= f.text_area :body, class:"col-sm-10 form-control" %>
          </td>
        </tr>

        <tr>
          <td>
            <%= f.label :キーワード, class:"col-sm-3 col-form-label-sm" %>
            <%= f.text_field :keyword, class:"col-sm-8 form-control" %>
            <p>お悩みのポイントとなるキーワードを入力することで、質問を発見してもらいやすくなります。</p>
          </td>
        </tr>

        <tr>
          <td>
            <%= f.label :お悩み関連画像, class:"col-sm-3 col-form-label-sm" %>
            <%= f.attachment_field :image, id:"image", placeholder:"プロフィール画像", class: "form-control-file" %>
          </td>
        </tr>

        <tr>
          <td>
            <%= f.submit "お悩み投稿", class: "btn btn-secondary" %>
          </td>
        </tr>
      </table>
      <% end %>
    </div>
  </div>
</div>